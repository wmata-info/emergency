function updateJSONAndDump(){var e=document.getElementById("stationId"),e=e?e.innerText:"",t=document.getElementById("rawData"),n=new XMLHttpRequest;n.open("GET","https://api.wmata.info/backend/station/".concat(e)),n.send(),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&200===n.status&&(t&&(t.innerText=n.responseText),renderJSON())}}function renderJSON(){var e,t,n=JSON.parse(null!=(e=null==(e=document.getElementById("rawData"))?void 0:e.innerText)?e:"{}"),a=[0],d=["No Data","Not Crowded","Somewhat Crowded","Full"];for(t in n.TRAINS){var r,c,o,i,m,p=n.TRAINS[t];a.includes(p.Group)||(a.push(p.Group),p.hasOwnProperty("DLY")&&(p.DLY="Delay"),p.hasOwnProperty("BRD")&&(p.BRD="Boarding"),(c=document.createElement("img")).src="/static/svg/".concat(p.Line,".svg"),c.width=25,(r=document.createElement("td")).append(c),(c=document.createElement("td")).innerText=p.Destination,(m=document.createElement("span")).className="unit",m.innerText="number"==typeof p.Min?1===p.Min?"MIN":"MINS":p.DLY?"Delay":p.BRD?"Boarding":"",i=document.createTextNode("".concat(p.Min,"Â ")),(o=document.createElement("td")).className=p.Min,o.append(i),o.append(m),(i=document.createElement("td")).innerText=p.Car,(m=document.createElement("td")).innerText=d[p.Oc],(p=document.createElement("tr")).id="train-".concat(t),p.append(r),p.append(c),p.append(o),p.append(i),p.append(m),document.getElementById("train-".concat(t))?null!=(r=document.getElementById("train-".concat(t)))&&r.replaceWith(p):null!=(c=document.getElementById("trains"))&&c.append(p))}}renderJSON(),setInterval(function(){updateJSONAndDump()},5e3);